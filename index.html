<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aki The Builder | Mission Archives</title>
    <!-- Import Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --bg-color: #0d0e15;
            --card-bg: #161821;
            --text-main: #c0c5e0;
            --accent: #ff0055;
            --highlight: #00e5ff;
            --grid-color: rgba(0, 229, 255, 0.05);
            --font-head: 'Chakra Petch', sans-serif;
            --font-body: 'Chakra Petch', sans-serif;
            --font-code: 'Fira Code', monospace;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: var(--accent) var(--bg-color);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--highlight);
        }

        body {
            font-family: var(--font-body);
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            font-size: 1.1rem;
            overflow-x: hidden;
            background-image: linear-gradient(var(--grid-color) 1px, transparent 1px), linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: bgScroll 20s linear infinite;
        }

        @keyframes bgScroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: -40px 40px;
            }
        }

        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1) 1px, transparent 1px, transparent 2px);
            pointer-events: none;
            z-index: 999;
        }

        /* Typography */
        h1,
        h2,
        h3,
        .logo,
        .btn,
        .sidebar-label {
            font-family: var(--font-head);
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 1px;
        }

        h1 {
            color: #fff;
            text-shadow: 0 0 10px var(--accent);
        }

        h2 {
            color: var(--highlight);
            margin-bottom: 1.5rem;
            border-left: 5px solid var(--highlight);
            padding-left: 15px;
            display: inline-block;
            line-height: 1.2;
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Header & Nav */
        header {
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(13, 14, 21, 0.95);
            border-bottom: 2px solid var(--highlight);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo {
            color: var(--highlight);
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: 800;
        }

        .nav-group {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-links a {
            color: var(--text-main);
            text-decoration: none;
            font-family: var(--font-code);
            font-weight: 600;
            transition: 0.3s;
            margin-right: 5px;
        }

        .nav-links a:hover {
            color: var(--accent);
            text-shadow: 0 0 5px var(--accent);
        }

        /* LANGUAGE SWITCHER CSS */
        .lang-switch {
            display: flex;
            gap: 5px;
            border: 1px solid var(--highlight);
            padding: 2px;
            border-radius: 4px;
        }

        .lang-btn {
            background: transparent;
            border: none;
            color: var(--text-main);
            padding: 2px 8px;
            font-family: var(--font-code);
            cursor: pointer;
            transition: 0.3s;
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            color: #fff;
        }

        .lang-btn.active {
            background: var(--highlight);
            color: #000;
            font-weight: bold;
        }

        /* Hero */
        #hero {
            min-height: 85vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
        }

        /* Updated Hero Styles */
        .hero-title {
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        .hero-title .role-text {
            color: #fff;
            /* M√†u tr·∫Øng theo y√™u c·∫ßu */
            font-size: 1.5rem;
            /* Ch·ªØ nh·ªè h∆°n */
            text-shadow: none;
            /* B·ªè glow ch√≥i l√≥a */
            font-weight: 600;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .hero-title .name-text {
            color: var(--accent);
            /* M√†u ƒëi·ªÉm nh·∫•n */
            font-size: 3.5rem;
            /* T√™n to ƒë√πng */
            text-shadow: 0 0 15px var(--accent);
            /* Glow m·∫°nh cho t√™n */
            font-weight: 800;
        }

        .status-badge {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #0f0;
            color: #0f0;
            padding: 5px 15px;
            font-family: var(--font-code);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(0, 255, 0, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(0, 255, 0, 0);
            }
        }

        .hero-desc {
            margin: 15px 0 30px;
            max-width: 600px;
        }

        /* About Section */
        .about-section {
            padding: 4rem 10%;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 4rem;
            flex-wrap: wrap;
            background: rgba(22, 24, 33, 0.5);
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }

        .profile-frame {
            width: 200px;
            height: 200px;
            border: 2px solid var(--highlight);
            padding: 5px;
            position: relative;
            background: var(--card-bg);
            transition: 0.3s;
            flex-shrink: 0;
        }

        .profile-frame:hover {
            box-shadow: 0 0 20px var(--highlight);
            transform: scale(1.02);
        }

        .profile-frame::before {
            content: "";
            position: absolute;
            top: -4px;
            left: -4px;
            width: 15px;
            height: 15px;
            border-top: 4px solid var(--accent);
            border-left: 4px solid var(--accent);
        }

        .profile-frame::after {
            content: "";
            position: absolute;
            bottom: -4px;
            right: -4px;
            width: 15px;
            height: 15px;
            border-bottom: 4px solid var(--accent);
            border-right: 4px solid var(--accent);
        }

        .profile-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(100%);
            transition: 0.5s;
        }

        .profile-frame:hover .profile-img {
            filter: grayscale(0%);
        }

        .about-text {
            max-width: 600px;
            width: 100%;
        }

        .data-row {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px dashed #444;
            font-family: var(--font-code);
            align-items: baseline;
        }

        .data-label {
            color: var(--highlight);
            font-weight: bold;
            text-align: left;
        }

        /* Projects Section */
        #projects {
            padding: 4rem 10%;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .filter-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--text-main);
            color: var(--text-main);
            padding: 8px 16px;
            font-family: var(--font-code);
            cursor: pointer;
            transition: 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            border-color: var(--highlight);
            color: #000;
            background: var(--highlight);
            box-shadow: 0 0 15px var(--highlight);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
        }

        .project-card {
            background: var(--card-bg);
            border: 1px solid #333;
            overflow: hidden;
            transition: 0.4s;
            position: relative;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent);
            box-shadow: 0 5px 20px rgba(255, 0, 85, 0.2);
        }

        .card-img-wrap {
            height: 200px;
            overflow: hidden;
            border-bottom: 1px solid #333;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: 0.5s;
        }

        .project-card:hover .card-img {
            transform: scale(1.1);
        }

        .card-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-title {
            font-size: 1.3rem;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .tech-tags {
            font-family: var(--font-code);
            color: var(--highlight);
            font-size: 0.85rem;
            margin-bottom: 1rem;
            border-bottom: 1px dashed #444;
            padding-bottom: 0.5rem;
        }

        .card-desc {
            font-size: 1rem;
            color: #ccc;
            margin-bottom: 1.5rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: var(--accent);
            color: #fff;
            text-decoration: none;
            font-size: 0.9rem;
            border: none;
            cursor: pointer;
            transition: 0.2s;
            text-align: center;
            margin-top: auto;
            font-weight: bold;
        }

        .btn:hover {
            background: var(--highlight);
            color: #000;
            box-shadow: 0 0 10px var(--highlight);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--highlight);
            color: var(--highlight);
            margin-left: 10px;
        }

        .btn-outline:hover {
            background: var(--highlight);
            color: #000;
        }

        /* Detail Overlay */
        #project-detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 14, 21, 0.98);
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem 5%;
        }

        .detail-container {
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
        }

        .close-overlay {
            position: fixed;
            top: 20px;
            right: 30px;
            font-size: 3rem;
            color: var(--highlight);
            cursor: pointer;
            z-index: 1001;
            transition: 0.3s;
        }

        .close-overlay:hover {
            transform: rotate(90deg);
            color: #fff;
        }

        .detail-hero {
            height: 50vh;
            border-bottom: 4px solid var(--accent);
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .detail-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            filter: brightness(0.3);
            z-index: -1;
        }

        .detail-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
        }

        .code-block {
            background: #1e1e1e;
            border: 1px solid #444;
            padding: 1.5rem;
            border-radius: 4px;
            font-family: var(--font-code);
            color: #d4d4d4;
            overflow-x: auto;
            margin: 1.5rem 0;
            position: relative;
        }

        .code-block::before {
            content: "C# SNIPPET";
            position: absolute;
            top: 0;
            right: 0;
            background: var(--highlight);
            color: #000;
            font-size: 0.7rem;
            padding: 2px 8px;
            font-weight: bold;
        }

        .sidebar-info {
            background: var(--card-bg);
            padding: 2rem;
            border: 1px solid var(--highlight);
            height: fit-content;
        }

        .sidebar-row {
            margin-bottom: 1.5rem;
        }

        .sidebar-label {
            color: var(--accent);
            display: block;
            margin-bottom: 5px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 2rem;
        }

        .gallery-img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border: 2px solid transparent;
            cursor: pointer;
            transition: 0.3s;
        }

        .gallery-img:hover {
            border-color: var(--highlight);
            transform: scale(1.05);
        }

        /* Lightbox */
        #lightbox-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 80vh;
            border: 2px solid var(--highlight);
            box-shadow: 0 0 30px var(--highlight);
            animation: zoomIn 0.3s;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        #lb-caption {
            margin-top: 15px;
            color: #fff;
            font-family: var(--font-code);
            font-size: 1.1rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 15px;
            border-radius: 4px;
            text-align: center;
            max-width: 80%;
        }

        .lb-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }

        .lb-prev,
        .lb-next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -50px;
            color: var(--highlight);
            font-weight: bold;
            font-size: 30px;
            transition: 0.3s;
            user-select: none;
            background: rgba(0, 0, 0, 0.5);
        }

        .lb-next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        .lb-prev {
            left: 0;
            border-radius: 0 3px 3px 0;
        }

        .lb-prev:hover,
        .lb-next:hover {
            background-color: var(--highlight);
            color: #000;
        }

        /* --- MEDIA QUERY CHO MOBILE (FIXED) --- */
        @media (max-width: 768px) {
            /* 1. Fix Navbar */
            header {
                flex-direction: column; /* X·∫øp d·ªçc Logo v√† Menu */
                gap: 15px;
                padding: 1rem;
            }

            .nav-group {
                width: 100%;
                justify-content: center; /* CƒÉn gi·ªØa Menu */
                flex-wrap: wrap; /* Cho ph√©p xu·ªëng d√≤ng n·∫øu ch·∫≠t */
                gap: 15px;
            }

            .nav-links {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }

            .nav-links a {
                margin: 0 5px;
                font-size: 0.9rem;
            }

            /* 2. Fix c√°c ph·∫ßn kh√°c (Gi·ªØ nguy√™n logic c≈©) */
            .detail-content {
                grid-template-columns: 1fr;
                padding: 0 1rem; /* Th√™m padding cho n·ªôi dung kh√¥ng d√≠nh l·ªÅ */
            }

            .hero-title h1 {
                font-size: 1.8rem;
            }

            .hero-title .name-text {
                font-size: 2.2rem; /* Gi·∫£m size t√™n ch√∫t cho v·ª´a m√†n h√¨nh nh·ªè */
            }

            .about-section {
                gap: 2rem;
                flex-direction: column;
                text-align: center;
                padding: 4rem 1rem; /* Gi·∫£m padding ngang */
            }

            .data-row {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .data-label {
                text-align: center;
                margin-bottom: 5px;
                display: block; /* Label xu·ªëng d√≤ng cho d·ªÖ ƒë·ªçc */
            }
            
            /* Fix Hero Padding */
            #hero {
                padding: 0 10px;
            }
        }
    </style>
</head>

<body>

    <header>
        <div class="logo" onclick="goHome()">ü™ìAKI_THE_BUILDER</div>
        <div class="nav-group">
            <div class="nav-links">
                <!-- ƒê√£ g·ª° b·ªè data-lang-key ƒë·ªÉ kh√¥ng b·ªã d·ªãch -->
                <a href="#" onclick="goHome()">HOME</a>
                <a href="#about">PROFILE</a>
                <a href="./assets/Aki_CV.pdf" target="_blank" data-lang-key="btn_cv">CV</a>
            </div>
            <!-- Language Switcher -->
            <div class="lang-switch">
                <button class="lang-btn active" onclick="changeLanguage('vi')" id="btn-vi">VN</button>
                <button class="lang-btn" onclick="changeLanguage('en')" id="btn-en">EN</button>
            </div>
        </div>
    </header>

    <main id="home-view">
        <section id="hero">
            <div class="status-badge" data-lang-key="status">STATUS: OPEN TO WORK</div>

            <!-- Ch·ªânh l·∫°i c·∫•u tr√∫c Hero Title -->
            <h1 class="hero-title">
                <span class="role-text" data-lang-key="role">UNITY GAME DEVELOPER</span>
                <span class="name-text">AKI THE BUILDER</span>
            </h1>

            <p class="hero-desc" data-lang-key="hero_desc">
                > Loading Skills... [C#] [Unity XR] [Game Logic]<br>
                > Chuy√™n tr·ªã c√°c th·ªÉ lo·∫°i game t·ª´ ch√©m gi·∫øt (Hack n Slash) ƒë·∫øn n·∫•u ƒÉn (Simulation).
            </p>
            <div>
                <a href="#projects" class="btn" data-lang-key="btn_start">START GAME</a>
                <a href="#about" class="btn btn-outline" data-lang-key="btn_info">INFO</a>
            </div>
        </section>

        <section id="about" class="about-section">
            <div class="profile-frame">
                <img src="./assets/img/avatar.png" alt="Profile" class="profile-img">
            </div>
            <div class="about-text">
                <h2 data-lang-key="char_data">> CHARACTER_DATA</h2>
                <p style="margin-bottom: 20px;" data-lang-key="intro">

                </p>
                <!-- <div class="data-row">
                    <span class="data-label">LEVEL:</span> <span data-lang-key="level_val">Junior / Entry-Level Unity
                        Developer</span>
                </div>
                <div class="data-row">
                    <span class="data-label" data-lang-key="skills_label">CORE SKILLS:</span> <span>C#, Unity XR/AR,
                        State Machine, Data Structure</span>
                </div>
                <div class="data-row">
                    <span class="data-label">LOCATION:</span> <span data-lang-key="loc_val">HCMC, Vietnam (GMT+7)</span>
                </div>
                <div class="data-row">
                    <span class="data-label">EMAIL:</span> <span>aki.finding@gmail.com</span> -->
            </div>
            </div>
        </section>

        <section id="projects">
            <div class="section-header">
                <h2 data-lang-key="mission_archives">> MISSION ARCHIVES</h2>
                <p style="font-family: var(--font-code); color: #888;" data-lang-key="mission_sub">// Ch·ªçn project ƒë·ªÉ
                    xem chi ti·∫øt</p>
            </div>

            <div class="filter-bar">
                <button class="filter-btn active" onclick="filterProjects('all')">ALL</button>
                <button class="filter-btn" onclick="filterProjects('unity')">UNITY 3D</button>
                <button class="filter-btn" onclick="filterProjects('vr')">VR/AR</button>
                <button class="filter-btn" onclick="filterProjects('solo')">SOLO DEV</button>
            </div>

            <div class="grid-container" id="project-grid">
                <!-- Projects injected by JS -->
            </div>
        </section>

        <footer style="text-align: center; padding: 2rem; color: #555; border-top: 1px solid #222;">
            <p>¬© 2025 Aki The Builder. Made with passion.</p>
        </footer>
    </main>

    <!-- PROJECT DETAIL OVERLAY -->
    <div id="project-detail-overlay" class="hidden">
        <div class="close-overlay" onclick="closeProject()">&times;</div>

        <div class="detail-container fade-in">
            <header class="detail-hero" id="d-hero">
                <div class="detail-bg" id="d-bg"></div>
                <div>
                    <div class="tech-tags" id="d-tags" style="color: #fff; border: none; font-size: 1rem;">TAGS</div>
                    <h1 id="d-title" style="font-size: 2.5rem; text-shadow: 0 0 10px #000;">TITLE</h1>
                    <!-- N√öT COPY LINK -->
                    <button class="btn btn-outline" id="btn-copy-link" onclick="copyProjectLink()"
                        style="font-size: 0.8rem; margin-top: 10px; padding: 5px 15px;">
                        <i class="fas fa-link"></i> COPY LINK
                    </button>
                </div>
            </header>

            <div class="detail-content">
                <div class="main-info">
                    <h2 data-lang-key="mission_brief">> MISSION_BRIEF</h2>
                    <p id="d-desc">Description...</p>

                    <h2 data-lang-key="tech_log">> TECH_LOG</h2>
                    <div id="d-tech-content"></div>

                    <h2 data-lang-key="visual_evidence">> VISUAL_EVIDENCE</h2>
                    <div class="gallery-grid" id="d-gallery"></div>
                </div>

                <aside class="sidebar-info">
                    <div class="sidebar-row">
                        <span class="sidebar-label">ROLE:</span>
                        <span id="d-role">Solo Dev</span>
                    </div>
                    <div class="sidebar-row">
                        <span class="sidebar-label">STACK:</span>
                        <span id="d-stack">Unity, C#</span>
                    </div>
                    <div class="sidebar-row">
                        <span class="sidebar-label">TIMELINE:</span>
                        <span id="d-time">3 Months</span>
                    </div>
                    <!-- N√∫t n√†y gi·ªù s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t dynamic -->
                    <a href="#" class="btn" id="btn-play-demo" target="_blank" style="width: 100%;"
                        data-lang-key="play_demo">PLAY DEMO</a>
                </aside>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX MODAL -->
    <div id="lightbox-modal">
        <span class="lb-close" onclick="closeLightbox()">&times;</span>
        <span class="lb-prev" onclick="changeSlide(-1)">&#10094;</span>
        <span class="lb-next" onclick="changeSlide(1)">&#10095;</span>
        <img class="lightbox-content" id="lb-image" src="">
        <p id="lb-caption"></p>
    </div>

    <script>
        const translations = {
            vi: {
                status: "TR·∫†NG TH√ÅI: OPEN TO WORK",
                role: "UNITY GAME DEVELOPER",
                hero_desc: "> Press 'Start' to continue!",
                btn_start: "START",
                btn_info: "TH√îNG TIN",
                btn_cv: "RESUME/CV",
                char_data: "> CHARACTER_DATA",
                intro: "Xin ch√†o, m√¨nh l√† Aki (AkiTheBuilder).  M√¨nh l√† m·ªôt l·∫≠p tr√¨nh vi√™n game (Game Developer) ƒëang s·ªëng t·∫°i Vi·ªát Nam. ƒêam m√™ c·ªßa m√¨nh l√† bi·∫øn nh·ªØng d√≤ng code th√†nh nh·ªØng th·∫ø gi·ªõi s·ªëng ƒë·ªông.  M√¨nh t·∫°o ra trang web n√†y ƒë∆°n gi·∫£n l√† ƒë·ªÉ chia s·∫ª nh·ªØng g√¨ m√¨nh ƒë√£ l√†m ƒë∆∞·ª£c. T·∫°i ƒë√¢y, b·∫°n c√≥ th·ªÉ t√¨m th·∫•y t·∫•t c·∫£ c√°c d·ª± √°n game c·ªßa m√¨nh, xem c√°ch m√¨nh x√¢y d·ª±ng ch√∫ng v√† ch∆°i th·ª≠ n·∫øu th√≠ch. C·∫£m ∆°n b·∫°n ƒë√£ gh√©!",
                level_val: "Junior / M·ªõi v√†o ngh·ªÅ",
                skills_label: "K·ª∏ NƒÇNG CH√çNH:",
                loc_val: "TP.HCM, Vi·ªát Nam (GMT+7)",
                mission_archives: "> KHO D·ª∞ √ÅN",
                mission_sub: "// Ch·ªçn project ƒë·ªÉ xem chi ti·∫øt",
                access_file: "XEM FILE >>",
                mission_brief: "> T√ìM T·∫ÆT NHI·ªÜM V·ª§",
                tech_log: "> C√ÅC T√çNH NƒÇNG",
                visual_evidence: "> H√åNH ·∫¢NH",
                play_demo: "LINK DEMO"
            },
            en: {
                status: "STATUS: OPEN TO WORK",
                role: "UNITY GAME DEVELOPER",
                hero_desc: "> Press 'Start' to continue!",
                btn_start: "START",
                btn_info: "INFO",
                btn_cv: "RESUME",
                char_data: "> CHARACTER_DATA",
                intro: "Hi there, I'm Aki (AkiTheBuilder).  I'm a Game Developer based in Vietnam. My passion is turning lines of code into living, breathing worlds. I built this website simply to share my work. Here, you can find all my game projects, see how I built them, and give them a try. Thanks for stopping by!",
                level_val: "Junior / Entry-Level",
                skills_label: "CORE SKILLS:",
                loc_val: "HCMC, Vietnam (GMT+7)",
                mission_archives: "> MISSION ARCHIVES",
                mission_sub: "// Select a project to view details",
                access_file: "ACCESS FILE >>",
                mission_brief: "> MISSION_BRIEF",
                tech_log: "> TECH_LOG",
                visual_evidence: "> IMAGES",
                play_demo: "DEMO LINK"
            }
        };

        let currentLang = 'vi'; // M·∫∑c ƒë·ªãnh ti·∫øng Vi·ªát cho th√¢n thi·ªán


        const projectsData = [
            {
                "id": 3,
                "slug": "the-offer",
                "category": [
                    "unity",
                    "solo"
                ],
                "tags": "[PERSONAL]",
                "img": "./assets/img/theOffer/the-offer.png",
                "title": {
                    "vi": "THE OFFER: Vi·ªác nh·∫π l∆∞∆°ng cao",
                    "en": "THE OFFER"
                },
                "desc": {
                    "vi": "M·ªôt d·ª± √°n c√° nh√¢n c·ªßa m√¨nh ƒëang th·ª±c hi·ªán. \"The Offer\" l√† d·ª± √°n game kinh d·ªã sinh t·ªìn g√≥c nh√¨n th·ª© nh·∫•t (First-person Survival Horror) v·ªõi phong c√°ch ƒë·ªì h·ªça Retro PS1. Game l·∫•y c·∫£m h·ª©ng t·ª´ c√°c v·ª• l·ª´a ƒë·∫£o \"vi·ªác nh·∫π l∆∞∆°ng cao\" xuy√™n bi√™n gi·ªõi, n∆°i ng∆∞·ªùi ch∆°i ph·∫£i ƒë·ªëi m·∫∑t v·ªõi √°p l·ª±c t√¢m l√Ω v√† t√¨m c√°ch sinh t·ªìn trong m·ªôt t·ªï ch·ª©c t·ªôi ph·∫°m c√¥ng ngh·ªá cao.",
                    "en": "One of my personal projects I'm working on is \"The Offer,\" a first-person survival horror game with a retro PS1 graphic style. The game is inspired by cross-border \"easy job, high pay\" scams, where players face psychological pressure and must find a way to survive within a high-tech criminal organization."
                },
                "role": {
                    "vi": "D·ª± √°n c√° nh√¢n",
                    "en": "Personal project"
                },
                "time": {
                    "vi": "ƒêang th·ª±c hi·ªán",
                    "en": "In progress"
                },
                "stack": "Unity3D",
                "demoLink": "https://youtu.be/JN2nJsEm2_U",
                "techContent": {
                    "vi": "<h3>T&iacute;nh nƒÉng ƒë&atilde; th·ª±c hi·ªán</h3>\n<h4><strong>Player di chuy·ªÉn</strong></h4>\n<p>Nh·∫≠p vai v&agrave;o nh&acirc;n v·∫≠t c&oacute; t&ecirc;n l&agrave; Duy Anh, ng∆∞·ªùi ch∆°i c&oacute; th·ªÉ di chuy·ªÉn v&agrave; t∆∞∆°ng t&aacute;c v·ªõi v·∫≠t th·ªÉ trong tr&ograve; ch∆°i. ƒê·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c vi·ªác di chuy·ªÉn n&agrave;y, m&igrave;nh t·∫°o m·ªôt class ƒë·∫£m nhi·ªám vi·ªác qu·∫£n l&yacute; t&iacute;n hi·ªáu nh·∫≠p ƒë·∫ßu v&agrave;o v&agrave; m·ªôt class x·ª≠ l&yacute; vi·ªác di chuy·ªÉn k·∫øt h·ª£p v·ªõi Character Controller.</p>\n<p><img src=\"assets\\img\\theOffer\\the-offer-player-inspector.png\" alt=\"\" width=\"100%\" /></p>\n<h4><strong>H·ªá ƒëi·ªÅu h&agrave;nh ·∫£o (AkiOS)</strong></h4>\n<p>Trong c·ªët truy·ªán c·ªßa game c&oacute; nhi·ªÅu ph&acirc;n ƒëo·∫°n s·ª≠ d·ª•ng m&aacute;y t&iacute;nh, ƒëi·ªÅu n&agrave;y mang ƒë·∫øn cho player tr·∫£i nghi·ªám c·∫£m gi&aacute;c b·ªã giam l·ªèng tr∆∞·ªõc m&agrave;n h&igrave;nh m&aacute;y t&iacute;nh v·ªõi h·ªá th·ªëng app Zola, Telegrum, Facepunk m&ocirc; ph·ªèng ch&acirc;n th·ª±c. D&ugrave;ng ƒë·ªÉ t∆∞∆°ng t&aacute;c m·∫°ng x&atilde; h·ªôi, nh·∫Øn tin v·ªõi NPC, th·ª±c hi·ªán l·ª´a ƒë·∫£o qua tin nh·∫Øn v&agrave; coding.</p>\n<p><img src=\"assets\\img\\theOffer\\the_offer_akios.png\" alt=\"\" width=\"100%\" /></p>\n<p>&nbsp;</p>\n<h4><strong>Mini-game 'Gi·∫£i code challenge'</strong></h4>\n<p>Minigame ph·ª•c v·ª• c·ªët truy·ªán sau khi player nh·∫≠n file code t·ª´ HR m·ªü l&ecirc;n th&igrave; player ph·∫£i gi·∫£i th·ª≠ th&aacute;ch coding ƒë·ªÉ ƒë·∫≠u v&ograve;ng ph·ªèng v·∫•n l·∫≠p tr&igrave;nh. V&igrave; m&aacute;y t&iacute;nh c·ªßa nh&acirc;n v·∫≠t ch&iacute;nh qu&aacute; y·∫øu n&ecirc;n khi code khi·∫øn m&aacute;y b·ªã l·ªói, player ph·∫£i t·∫Øt n&oacute; ƒë&uacute;ng l&uacute;c tr∆∞·ªõc khi m&aacute;y s·∫≠p.</p>\n<p>Minigame g&otilde; code d·ªìn d·∫≠p k·∫øt h·ª£p y·∫øu t·ªë nh·ªãp ƒëi·ªáu (Rhythm), t·∫°o &aacute;p l·ª±c th·ªùi gian th·ª±c ngh·∫πt th·ªü.</p>\n<p>&nbsp;</p>\n<h4><strong>H·ªá th·ªëng QuestSystem</strong></h4>\n<p>H·ªá th·ªëng nhi·ªám v·ª• d·∫´n d·∫Øt ng∆∞·ªùi ch∆°i qua c&aacute;c ƒëo·∫°n h·ªôi tho·∫°i, nh·∫Øn tin v·ªõi NPC v&agrave; manh m·ªëi ·∫©n gi·∫•u.&nbsp; H·ªó tr·ª£ h·ªá th·ªëng save/load v&agrave;o file JSON.<img src=\"assets\\img\\theOffer\\the-offer-questmanager-inspector.png\" alt=\"\" width=\"100%\" /></p>\n<p>&nbsp;</p>\n<h4><strong>ƒê·ªì ho·∫° PS1</strong></h4>\n<p>Phong c&aacute;ch Low-poly, Dithering v&agrave; CRT Filter t·∫°o kh&ocirc;ng kh&iacute; u &aacute;m, ng·ªôt ng·∫°t. Model ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi Blender sau ƒë&oacute; import v&agrave;o Unity. Sau ƒë&oacute; gi·∫£m ƒë·ªô ph&acirc;n gi·∫£i c·ªßa camera v·ªõi RenderTexture ƒë·ªÉ t·∫°o hi·ªáu ·ª©ng v·ª° pixel.</p>\n<p><img src=\"assets\\img\\theOffer\\the-offer.png\" alt=\"\" width=\"100%\" /></p>\n<p>&nbsp;</p>\n<p>N·ªôi dung s·∫Ω ƒë∆∞·ª£c ti·∫øp t·ª•c c·∫≠p nh·∫≠t sau khi game c&oacute; t&iacute;nh nƒÉng m·ªõi :v</p>\n<p>&nbsp;</p>",
                    "en": "<h3>Features implemented</h3>\n<h4><strong>Player movement</strong></h4>\n<p>Playing as the character named Duy Anh, the player can move and interact with objects in the game. To implement this movement, I created a class to manage input signals and a class to process them. Movement is combined with the Character Controller.</p>\n<p><img src=\"assets\\img\\theOffer\\the-offer-player-inspector.png\" alt=\"\" width=\"100%\" /></p>\n<h4><strong>Virtual Operating System (AkiOS)</strong></h4>\n<p>In the game's storyline, there are many segments using computers, which gives players the experience of being confined in front of a computer screen with the Zola, Telegrum, and Facepunk app systems that simulate realism. Used for social network interaction, messaging with NPCs, and carrying out scams via text messages and coding.</p>\n<p><img src=\"assets\\img\\theOffer\\the_offer_akios.png\" alt=\"\" width=\"100%\" /></p>\n<p>&nbsp;</p>\n<h4><strong>Mini-game 'Solve the Code Challenge'</strong></h4>\n<p>This minigame serves the storyline. After the player receives the code file from HR and opens it, the player must solve a coding challenge to pass the programming interview. Because the main character's computer is too weak, if the code causes the computer to malfunction, the player must turn it off just before it crashes.</p>\n<p>Minigame g&otilde; The fast-paced code, combined with rhythm elements, creates a suffocating real-time pressure.\n\nQuest System\n\nThe quest system guides the player through dialogues, messaging with NPCs, and hidden clues. Supports save/load system to JSON files.\n\nPS1 Graphics\n\nLow-poly, Dithering, and CRT Filtering create a gloomy, suffocating atmosphere. The model was designed with Blender and then imported into Unity. Afterward, the camera resolution was reduced using RenderTexture to create a pixelated effect.</p>\n<p><img src=\"assets\\img\\theOffer\\the-offer.png\" alt=\"\" width=\"100%\" /></p>\n<p>&nbsp;</p>\n<p>Content will be updated after the game has new features :v</p>\n<p>&nbsp;</p>"
                },
                "gallery": [
                    {
                        "src": "assets\\img\\theOffer\\akios_userface_phobo.png",
                        "cap": {
                            "vi": "M·∫°ng x√£ h·ªôi ƒë·ªÉ player ƒë·ªçc tin t·ª©c, nh·∫≠n job,...",
                            "en": "Social media allows players to read news, get jobs, etc."
                        }
                    },
                    {
                        "src": "assets\\img\\theOffer\\akios_userface_telegram.png",
                        "cap": {
                            "vi": "Giao di·ªán chat v·ªõi HR",
                            "en": "Chat with HR"
                        }
                    },
                    {
                        "src": "assets\\img\\theOffer\\conversation_scriptableobject.png",
                        "cap": {
                            "vi": "D·ªØ li·ªáu h·ªôi tho·∫°i h·ªó tr·ª£ g·ª≠i h√¨nh ·∫£nh v√† r·∫Ω nh√°nh",
                            "en": "Conversation data supports sending images and branching."
                        }
                    },
                    {
                        "src": "assets\\img\\theOffer\\telegrumcontroller.png",
                        "cap": {
                            "vi": "Component qu·∫£n l√Ω vi·ªác nh·∫Øn tin",
                            "en": "The component manages messaging."
                        }
                    }
                ]
            }
        ];

        const grid = document.getElementById('project-grid');
        const overlay = document.getElementById('project-detail-overlay');
        let currentProjectSlug = ""; // L∆∞u slug hi·ªán t·∫°i ƒë·ªÉ d√πng cho n√∫t copy

        // --- LANGUAGE LOGIC ---
        function changeLanguage(lang) {
            currentLang = lang;
            document.getElementById('btn-vi').classList.toggle('active', lang === 'vi');
            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[lang][key]) el.innerHTML = translations[lang][key];
            });
            renderProjects();

            // N·∫øu ƒëang m·ªü overlay th√¨ update l·∫°i n·ªôi dung trong ƒë√≥ lu√¥n
            if (!overlay.classList.contains('hidden')) {
                // T√¨m project hi·ªán t·∫°i v√† reload data
                const currentP = projectsData.find(p => p.slug === currentProjectSlug);
                if (currentP) openProject(currentP.slug);
            }
        }

        // --- RENDER GRID ---
        function renderProjects(filter = 'all') {
            const activeBtn = document.querySelector('.filter-btn.active');
            const currentFilter = activeBtn ? activeBtn.getAttribute('onclick').match(/'([^']+)'/)[1] : 'all';

            grid.innerHTML = '';
            projectsData.forEach(p => {
                if (filter === 'all' || p.category.includes(filter)) {
                    if (currentFilter !== 'all' && !p.category.includes(currentFilter)) return;

                    const card = document.createElement('div');
                    card.className = 'project-card fade-in';
                    // S·ª≠a l·∫°i: Truy·ªÅn slug v√†o h√†m openProject
                    card.onclick = () => openProject(p.slug);

                    const pTitle = p.title[currentLang];
                    const pDesc = p.desc[currentLang];
                    const btnText = translations[currentLang].access_file;

                    card.innerHTML = `
                        <div class="card-img-wrap">
                            <img src="${p.img}" class="card-img" alt="${pTitle}">
                        </div>
                        <div class="card-content">
                            <div class="tech-tags">${p.tags}</div>
                            <h3 class="card-title">${pTitle}</h3>
                            <p class="card-desc">${pDesc}</p>
                            <button class="btn">${btnText}</button>
                        </div>
                    `;
                    grid.appendChild(card);
                }
            });
        }

        function filterProjects(cat) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderProjects(cat);
        }

        // --- OPEN DETAIL (DEEP LINKING SUPPORTED) ---
        let currentGallery = [];

        function openProject(identifier) {
            // T√¨m theo slug tr∆∞·ªõc, n·∫øu kh√¥ng th·∫•y th√¨ t√¨m theo id (backward compatible)
            const p = projectsData.find(item => item.slug === identifier || item.id == identifier);

            if (!p) return;

            currentProjectSlug = p.slug; // L∆∞u l·∫°i slug

            // C·∫≠p nh·∫≠t URL tr√™n thanh ƒë·ªãa ch·ªâ m√† kh√¥ng reload trang
            const newUrl = window.location.pathname + '?id=' + p.slug;
            window.history.pushState({ path: newUrl }, '', newUrl);

            // Fill Data
            document.getElementById('d-title').innerText = p.title[currentLang];
            document.getElementById('d-tags').innerText = p.tags;
            document.getElementById('d-bg').style.backgroundImage = `url('${p.img}')`;
            document.getElementById('d-desc').innerText = p.desc[currentLang];

            let techHTML = p.techContent[currentLang];
            document.getElementById('d-tech-content').innerHTML = techHTML;

            document.getElementById('d-role').innerText = p.role[currentLang] || p.role;
            document.getElementById('d-stack').innerText = p.stack;
            document.getElementById('d-time').innerText = p.time[currentLang];

            const demoBtn = document.getElementById('btn-play-demo');
            if (p.demoLink && p.demoLink.trim() !== "") {
                demoBtn.style.display = "inline-block";
                demoBtn.href = p.demoLink;
                demoBtn.target = "_blank";
                demoBtn.innerText = translations[currentLang].play_demo;
            } else {
                demoBtn.style.display = "none";
            }

            currentGallery = p.gallery;
            const galDiv = document.getElementById('d-gallery');
            galDiv.innerHTML = '';

            p.gallery.forEach((item, index) => {
                const img = document.createElement('img');
                img.src = item.src;
                img.className = 'gallery-img';
                img.onclick = () => openLightbox(index);
                galDiv.appendChild(img);
            });

            overlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeProject() {
            overlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
            // Reset URL v·ªÅ s·∫°ch s·∫Ω
            window.history.pushState({ path: window.location.pathname }, '', window.location.pathname);
        }

        function copyProjectLink() {
            if (!currentProjectSlug) return;
            // T·∫°o link ƒë·∫ßy ƒë·ªß
            const fullUrl = window.location.origin + window.location.pathname + '?id=' + currentProjectSlug;

            navigator.clipboard.writeText(fullUrl).then(() => {
                // Thay ƒë·ªïi text n√∫t t·∫°m th·ªùi ƒë·ªÉ b√°o th√†nh c√¥ng
                const btn = document.getElementById('btn-copy-link');
                const originalText = btn.innerHTML;
                btn.innerHTML = "<i class='fas fa-check'></i> COPIED!";
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        }

        function goHome() {
            closeProject();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- LIGHTBOX LOGIC ---
        let currentImgIndex = 0;
        const lightbox = document.getElementById('lightbox-modal');
        const lbImg = document.getElementById('lb-image');
        const lbCap = document.getElementById('lb-caption');

        function openLightbox(index) {
            currentImgIndex = index;
            updateLightboxContent();
            lightbox.style.display = 'flex';
        }

        function closeLightbox() {
            lightbox.style.display = 'none';
        }

        function changeSlide(n) {
            currentImgIndex += n;
            if (currentImgIndex >= currentGallery.length) currentImgIndex = 0;
            if (currentImgIndex < 0) currentImgIndex = currentGallery.length - 1;
            updateLightboxContent();
        }

        function updateLightboxContent() {
            lbImg.src = currentGallery[currentImgIndex].src;
            const capData = currentGallery[currentImgIndex].cap;
            lbCap.innerText = (typeof capData === 'object') ? capData[currentLang] : capData;
        }

        // Events
        document.addEventListener('keydown', function (e) {
            if (lightbox.style.display === 'flex') {
                if (e.key === "Escape") closeLightbox();
                if (e.key === "ArrowLeft") changeSlide(-1);
                if (e.key === "ArrowRight") changeSlide(1);
            } else {
                if (e.key === "Escape") closeProject();
            }
        });

        lightbox.addEventListener('click', function (e) {
            if (e.target === lightbox) closeLightbox();
        });

        // X·ª≠ l√Ω n√∫t Back c·ªßa tr√¨nh duy·ªát
        window.onpopstate = function (event) {
            if (overlay.classList.contains('hidden') === false) {
                closeProject(); // ƒê√≥ng overlay n·∫øu ƒëang m·ªü
            }
        };

        // --- INIT ---
        changeLanguage('vi');

        // Ki·ªÉm tra URL khi load trang ƒë·ªÉ m·ªü project (Deep Linking)
        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id'); // L·∫•y tham s·ªë ?id=...
            if (projectId) {
                // Cu·ªôn xu·ªëng ph·∫ßn projects m·ªôt ch√∫t cho ƒë·∫πp
                document.getElementById('projects').scrollIntoView();
                // M·ªü project t∆∞∆°ng ·ª©ng
                openProject(projectId);
            }
        };

    </script>
</body>

</html>